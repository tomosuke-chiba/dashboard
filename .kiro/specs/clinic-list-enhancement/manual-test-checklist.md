# 手動動作確認チェックリスト

## タスク 4.3: 手動動作確認

### 準備
```bash
npm run dev
```

開発サーバーを起動後、以下の項目を確認してください。

---

## 1. クリニック一覧ページ (`/clinic`)

### 1.1 月選択フィルターの維持
- [ ] 月選択ドロップダウンが表示される
- [ ] 月を変更した際、選択した月が維持される
- [ ] 月を変更すると、該当月のKPIが表示される
- [ ] ページをリロードしても、デフォルトで現在月が表示される

### 1.2 検索フィルターの維持
- [ ] 検索ボックスが表示される
- [ ] クリニック名を入力すると、該当するクリニックが表示される
- [ ] 検索語句が維持される
- [ ] 月選択と検索を同時に使用しても正しく動作する

### 1.3 KPI表示要件の確認

#### 検索順位（媒体別）
- [ ] 表示形式: `G:[順位]位 J:[順位]位 Q:[順位]位`
- [ ] データが存在する場合: `G:5位 J:10位 Q:3位` のように表示される
- [ ] データが存在しない場合: `G:- J:- Q:-` のように表示される
- [ ] 媒体ごとに異なる値が表示される（媒体別に取得できている）

**確認例:**
- GUPPYのみデータがある場合: `G:5位 J:- Q:-`
- JobMedleyのみデータがある場合: `G:- J:10位 Q:-`
- すべて存在する場合: `G:5位 J:10位 Q:3位`

#### PV (totalViewCount)
- [ ] 0の場合: `0件` と表示される
- [ ] 正の値の場合: `100件` のように単位付きで表示される

#### 応募数 (totalApplicationCount)
- [ ] 0の場合: `0件` と表示される
- [ ] 正の値の場合: `10件` のように単位付きで表示される

#### スカウト送信数 (totalScoutSentCount)
- [ ] 0の場合: `0通` と表示される
- [ ] 正の値の場合: `30通` のように単位付きで表示される

#### スカウト返信数 (totalScoutReplyCount)
- [ ] 未入力の場合（`missingManualMetrics=true`）: `未入力` と表示される
- [ ] 入力済みで0の場合: `0通` と表示される
- [ ] 正の値の場合: `5通` のように単位付きで表示される

#### 面接設定数 (totalInterviewCount)
- [ ] 未入力の場合（`missingManualMetrics=true`）: `未入力` と表示される
- [ ] 入力済みで0の場合: `0件` と表示される
- [ ] 正の値の場合: `3件` のように単位付きで表示される

#### 採用決定数 (totalHireCount)
- [ ] 0の場合: `0人` と表示される
- [ ] 正の値の場合: `1人` のように単位付きで表示される

---

## 2. 詳細ページの確認

### 2.1 GUPPY詳細ページ (`/clinic/{slug}/guppy`)
- [ ] ページが正常に表示される
- [ ] 手動入力メトリクス（スカウト返信数、面接設定数）が表示される
- [ ] 既存の機能が正常に動作する

### 2.2 JobMedley詳細ページ (`/clinic/{slug}/job-medley`)
- [ ] ページが正常に表示される
- [ ] GUPPY相当の項目が表示される
  - [ ] PV
  - [ ] 応募数
  - [ ] スカウト送信数
  - [ ] 手動入力メトリクス（スカウト返信数、面接設定数）
- [ ] 既存の機能が正常に動作する

### 2.3 Quacareer詳細ページ (`/clinic/{slug}/quacareer`)
- [ ] ページが正常に表示される
- [ ] 手動入力メトリクス（スカウト返信数、面接設定数）が表示される
- [ ] 既存の機能が正常に動作する

---

## 3. データの整合性確認

### 3.1 API レスポンスの確認
ブラウザの開発者ツール（Networkタブ）で `/api/admin/clinics` のレスポンスを確認:

```json
{
  "clinics": [
    {
      "id": "...",
      "name": "...",
      "metrics": {
        "searchRanks": {
          "guppy": 5,
          "jobmedley": 10,
          "quacareer": 3
        },
        "totalViewCount": 100,
        "totalApplicationCount": 10,
        "totalScoutSentCount": 30,
        "totalScoutReplyCount": 5,
        "totalInterviewCount": 3,
        "totalHireCount": 1,
        "missingManualMetrics": false
      }
    }
  ]
}
```

- [ ] `searchRanks` が媒体別に存在する
- [ ] 各KPIフィールドが正しく存在する
- [ ] `missingManualMetrics` が正しく判定されている

### 3.2 後方互換性の確認
- [ ] 既存のフィルター機能が正常に動作する
- [ ] エラーが発生していない（Consoleタブでエラーを確認）
- [ ] ページのレイアウトが崩れていない

---

## 4. エッジケースの確認

### 4.1 データが存在しないクリニック
- [ ] すべてのKPIが0または"-"で表示される
- [ ] エラーが発生しない
- [ ] 未入力の場合は「未入力」と表示される

### 4.2 データが部分的に存在するクリニック
- [ ] 存在するデータは正しく表示される
- [ ] 存在しないデータは"-"または「未入力」で表示される
- [ ] 0と"-"と「未入力」が正しく区別される

---

## 完了条件

すべてのチェックボックスが ✓ になること。

## 問題が発生した場合

以下の情報を記録してください:
1. 発生した問題の内容
2. 再現手順
3. 期待される動作
4. 実際の動作
5. ブラウザのConsoleエラー（あれば）
6. Networkタブのレスポンス（あれば）
